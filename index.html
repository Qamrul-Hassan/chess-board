<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grandmaster Chess Board</title>
  <link rel="stylesheet" href="style.css">

</head>

<body>
  <main class="stage">
    <header class="topbar">
      <div>
        <p class="brand">International Standard</p>
        <h1>Grandmaster Chess Board</h1>
      </div>
      <div class="controls">
        <div class="time-control">
          <label for="timeSelect">Time</label>
          <select id="timeSelect">
            <option value="180">3 min</option>
            <option value="300" selected>5 min</option>
            <option value="600">10 min</option>
          </select>
        </div>
        <button id="startBtn" class="btn primary">Start</button>
        <button id="resetBtn" class="btn ghost">Reset</button>
      </div>
    </header>

    <section class="arena">
      <aside class="side-panel">
        <div class="player-card black centered">
          <span class="label">Black</span>
          <span id="blackClock" class="clock">05:00</span>
        </div>
        <div class="mid-info">
          <div id="status" class="status">Press Start to begin</div>
          <div class="note">Local two-player. Start the clock, then move.</div>
        </div>
        <div class="player-card white centered">
          <span class="label">White</span>
          <span id="whiteClock" class="clock">05:00</span>
        </div>
      </aside>

      <div class="board-panel">
        <!-- Captured pieces by Black (White pieces) -->
        <div class="captured white-captured"></div>

        <div class="board" aria-label="chess board">
        <!-- Row 1 - Black main pieces -->
        <div class="dark"><img src="./images/black-rook.png" alt="black-rook"></div>
        <div class="light"><img src="./images/black-knight.png" alt="black-knight"></div>
        <div class="dark"><img src="./images/black-bishop.png" alt="black-bishop"></div>
        <div class="light"><img src="./images/black-queen.png" alt="black-queen"></div>
        <div class="dark"><img src="./images/black-king.png" alt="black-king"></div>
        <div class="light"><img src="./images/black-bishop.png" alt="black-bishop"></div>
        <div class="dark"><img src="./images/black-knight.png" alt="black-knight"></div>
        <div class="light"><img src="./images/black-rook.png" alt="black-rook"></div>

        <!-- Row 2 - Black pawns -->
        <div class="light"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="dark"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="light"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="dark"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="light"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="dark"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="light"><img src="./images/black-pawn.png" alt="black-pawn"></div>
        <div class="dark"><img src="./images/black-pawn.png" alt="black-pawn"></div>

        <!-- Row 3 -->
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>

        <!-- Row -4 -->
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>

        <!-- Row 5 -->
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>

        <!-- Row 6 -->
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>
        <div class="light"></div>
        <div class="dark"></div>

        <!-- Row 7 - White pawns -->
        <div class="dark"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="light"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="dark"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="light"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="dark"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="light"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="dark"><img src="./images/white-pawn.png" alt="white-pawn"></div>
        <div class="light"><img src="./images/white-pawn.png" alt="white-pawn"></div>

        <!-- Row 8 - White main pieces -->
        <div class="light"><img src="./images/white-rook.png" alt="white-rook"></div>
        <div class="dark"><img src="./images/white-knight.png" alt="white-knight"></div>
        <div class="light"><img src="./images/white-bishop.png" alt="white-bishop"></div>
        <div class="dark"><img src="./images/white-queen.png" alt="white-queen"></div>
        <div class="light"><img src="./images/white-king.png" alt="white-king"></div>
        <div class="dark"><img src="./images/white-bishop.png" alt="white-bishop"></div>
        <div class="light"><img src="./images/white-knight.png" alt="white-knight"></div>
        <div class="dark"><img src="./images/white-rook.png" alt="white-rook"></div>
        </div>

        <!-- Captured pieces by White (Black pieces) -->
        <div class="captured black-captured"></div>
      </div>

      <aside class="right-panel">
        <h2 class="panel-title">Online</h2>
        <div class="online-controls">
          <button id="hostBtn" class="btn ghost">Host Online</button>
          <input id="roomInput" type="text" placeholder="Room code">
          <label class="spectate">
            <input id="spectateToggle" type="checkbox">
            Spectate
          </label>
          <button id="joinBtn" class="btn ghost">Join</button>
          <div id="roomInfo" class="room-info"></div>
          <button id="helpBtn" class="btn ghost">How to Play Online</button>
        </div>
      </aside>
    </section>
  </main>

  <div id="helpModal" class="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
      <div class="modal-header">
        <h2 id="helpTitle">Online Play Instructions</h2>
        <button id="closeHelp" class="btn ghost">Close</button>
      </div>
      <ol class="modal-list">
        <li>Open the page on two devices or two browser tabs.</li>
        <li>Click <strong>Host Online</strong> on the host device to create a room.</li>
        <li>Copy the room code and send it to your friend.</li>
        <li>Your friend enters the code and clicks <strong>Join</strong>.</li>
        <li>The host will get a pop‑up request — click OK to approve.</li>
        <li>Host clicks <strong>Start</strong> to begin the game.</li>
        <li>Want to watch only? Tick <strong>Spectate</strong> before joining.</li>
      </ol>
      <p class="modal-note">Tip: Keep the host page open to keep the room alive.</p>
    </div>
  </div>

  <script>
    // Replace with your deployed backend URL (e.g., https://your-backend.onrender.com)
    window.SOCKET_SERVER_URL = "https://chess-board-ufj9.onrender.com";
  </script>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" crossorigin="anonymous"></script>
  <script type="module" src="./script.js"></script>
</body>

</html>
